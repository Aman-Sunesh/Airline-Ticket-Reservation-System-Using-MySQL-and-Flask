<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>Create Flight â€” Airline Reservation</title>
<style>
:root{--bg:#f7f7fb;--card:#fff;--fg:#1c1c1c;--border:#e6e6ea;--accent:#111}
*{box-sizing:border-box}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:var(--bg);color:var(--fg)}
header{display:flex;align-items:center;justify-content:space-between;padding:16px 20px;background:var(--accent);color:#fff}
header h1{margin:0;font-size:18px}
header nav a{color:#fff;text-decoration:none;margin-left:14px}
main{max-width:800px;margin:28px auto;padding:0 16px}
.card{background:#fff;border:1px solid var(--border);border-radius:14px;padding:18px}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px}
label{display:flex;flex-direction:column;gap:6px;font-weight:600}
input,select{padding:10px 12px;border:1px solid var(--border);border-radius:10px;background:#fff}
.btn{appearance:none;border:1px solid var(--border);background:#fff;padding:10px 14px;border-radius:10px;cursor:pointer}
.btn.primary{background:var(--accent);color:#fff;border-color:var(--accent)}
.flash-container{margin:16px 0;}
.flash{padding:10px 12px;border-radius:10px;margin-bottom:8px;font-size:14px;border:1px solid var(--border);background:#fff;}
.flash-error{border-color:#b00020;background:#fdecef;color:#b00020;}
.flash-success{border-color:#157f3b;background:#e9f7ec;color:#157f3b;}
.flash-info{border-color:#1e88e5;background:#e3f2fd;color:#1e88e5;}
</style>
</head>
<body>

<header>
  <h1>Airline Reservation</h1>
  <nav>
    <a href="{{ url_for('staff_home') }}">Staff Dashboard</a>
    <a href="{{ url_for('logout') }}">Logout</a>
  </nav>
</header>

<main>
  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      <div class="flash-container">
        {% for category, message in messages %}
          <div class="flash flash-{{ category }}">{{ message }}</div>
        {% endfor %}
      </div>
    {% endif %}
  {% endwith %}
  <div class="card">
    <h2 style="margin:0 0 10px 0;">Create Flight</h2>

    <form method="post" action="{{ url_for('create_flight_submit') }}">
      <div class="grid">

        <label>
          <span>Flight #</span>
          <input name="flight_no" required maxlength="10">
        </label>

        <label>
          <span>Airplane</span>
          <select name="airplane_id" required>
            {% for p in planes %}
              <option value="{{ p }}">{{ p }}</option>
            {% endfor %}
          </select>
        </label>

        <!-- NEW: date + time pickers -->
        <label>
          <span>Departure date</span>
          <input type="date" name="dep_date" required>
        </label>

        <label>
          <span>Departure time</span>
          <input type="time" name="dep_time" required step="60">
        </label>

        <label>
          <span>Arrival date</span>
          <input type="date" name="arr_date" required>
        </label>

        <label>
          <span>Arrival time</span>
          <input type="time" name="arr_time" required step="60">
        </label>

        <label>
          <span>From</span>
          <select name="dep_airport_code" required>
            {% for a in airports %}
              <option value="{{ a }}">{{ a }}</option>
            {% endfor %}
          </select>
        </label>

        <label>
          <span>To</span>
          <select name="arr_airport_code" required>
            {% for a in airports %}
              <option value="{{ a }}">{{ a }}</option>
            {% endfor %}
          </select>
        </label>

        <label>
          <span>Base price (USD)</span>
          <input name="base_price" type="number" min="0" step="0.01" required>
        </label>

      </div>

      <div style="margin-top:10px">
        <button class="btn primary" type="submit">Create</button>
        <a class="btn" href="{{ url_for('staff_home') }}">Cancel</a>
      </div>

    </form>
  </div>
</main>

</body>
</html>