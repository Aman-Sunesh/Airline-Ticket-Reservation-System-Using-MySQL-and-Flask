<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Manage Phone Numbers</title>
    <style>
        :root{--bg:#f7f7fb;--card:#fff;--fg:#1c1c1c;--border:#e6e6ea;--accent:#111}
        *{box-sizing:border-box}
        body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:var(--bg);color:var(--fg)}
        header{display:flex;align-items:center;justify-content:space-between;padding:16px 20px;background:var(--accent);color:#fff}
        header h1{margin:0;font-size:18px}
        header nav a{color:#fff;text-decoration:none;margin-left:14px}
        .card{max-width:700px;margin:30px auto;background:var(--card);border:1px solid var(--border);padding:20px;border-radius:14px}
        a{text-decoration:none;color:#0077cc}
        table { width:100%; border-collapse:collapse; margin-top:20px; }
        th,td { padding:10px; border-bottom:1px solid #ddd; }
        button { background:#d33; color:white; border:none;
                 padding:5px 10px; border-radius:5px; cursor:pointer; }
        button:hover { background:#b00; }
        .flash-container{margin-bottom:12px;}
        .flash{padding:8px 10px;border-radius:8px;margin-bottom:6px;font-size:0.9rem;}
        .flash-error{background:#ffe5e5;color:#b30000;border:1px solid #ffb3b3;}
        .flash-success{background:#e7f7e9;color:#166534;border:1px solid #bbf7d0;}
        .flash-info{background:#e0f2fe;color:#075985;border:1px solid #bfdbfe;}
    </style>
</head>

<body>
<header>
  <h1>Airline Reservation</h1>
  <nav>
    <a href="{{ url_for('staff_home') }}">Staff Dashboard</a>
    <a href="{{ url_for('logout') }}">Logout</a>
  </nav>
</header>

<div class="card">
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <div class="flash-container">
          {% for category, msg in messages %}
            <div class="flash flash-{{ category }}">{{ msg }}</div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}

    <h2>Manage Phone Numbers</h2>
    <h3>Your Phone Numbers</h3>

    {% if phones %}
    <table>
        <tr><th>Phone Number</th><th>Action</th></tr>
        {% for p in phones %}
        <tr>
            <td>{{ p.phone_number }}</td>
            <td>
                <form method="POST" action="/staff/phones/delete" style="display:inline;">
                    <input type="hidden" name="phone_number" value="{{ p.phone_number }}">
                    <button type="submit">Delete</button>
                </form>
            </td>
        </tr>
        {% endfor %}
    </table>
    {% else %}
    <p>No phone numbers added yet.</p>
    {% endif %}

    <h3 style="margin-top:30px;">Add New Phone Number</h3>

    <form method="POST" action="/staff/phones/add">
        <input type="text"
               name="phone_number"
               placeholder="Enter phone number"
               maxlength="20"
               style="padding:10px; width:70%;">
        <button type="submit" style="background:#28a745; margin-left:10px;">Add</button>
    </form>

</div>

</body>
</html>